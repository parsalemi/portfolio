<div class="main w-full h-full flex justify-around items-center flex-wrap p-5 gap-x-2 gap-y-0">

  <div *ngFor="let weather of someWeathers$" >
    
      <a *ngIf="weather | async as weathers" routerLink="/projects/weather/{{weathers.address}}" 
        class="card bg-red-200 w-80 h-48 flex flex-col rounded-2xl overflow-hidden p-3" 
        style="background-image: url(../../../../assets/weatherCardBackgrounds/{{weathers.currentConditions.icon}}.webp);
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;"
        [ngStyle]="{'color': weathers.currentConditions.icon.includes('night') ? 'white' : 'black'}">
    
        <div class="w-full h-10 flex items-start justify-between backdrop-blur-sm border-b-2 border-black">
            <div class="flex gap-2 justify-center items-center">
                <img [ngStyle]="{'filter': weathers.currentConditions.icon.includes('night') ? 'brightness(10000%)' : ''}" 
                src="../../../../assets/weatherIcons/{{weathers.currentConditions.icon}}.png" height="30" width="30" alt="{{weathers.currentConditions.conditions}} icon">
                <p class="text-2xl">{{weathers.currentConditions.conditions.split(',')[0]}}</p>
            </div>
            <div>
                <p #time class="text-nowrap font-bold">{{todayDate | date: 'shortTime' : forTime(weathers.tzoffset)}}</p>
            </div>
        </div>

            <div class="h-24 flex backdrop-blur-sm">
                <div class="h-full w-52 flex flex-col">
                    <p class="text-6xl">{{weathers.currentConditions.temp}}&deg;</p>
                    <p>At : {{weathers.currentConditions.datetime}}</p>
                </div>
                <div>
                    <p #date class="text-2xl float-right">{{todayDate | date: 'shortDate' : forTime(weathers.tzoffset)}}</p>
                    <p class="capitalize text-4xl font-blod" routerLink="/weather/{{weathers.address}}">{{weathers.address}}</p>
                </div>
            </div>

            <div class="h-10 flex gap-2 justify-around backdrop-blur-sm border-t-2 border-black">
                <div class="h-full w-16 flex flex-col items-center justify-center text-center">
                    <p class="w-16 text-sm truncate">{{weathers.days[0].conditions.split(',')[0]}}</p>
                    <img src="../../../../assets/weatherIcons/{{weathers.days[0].icon}}.png" alt="" height="20" width="20"
                    [ngStyle]="{'filter': weathers.currentConditions.icon.includes('night') ? 'brightness(10000%)' : ''}">
                </div>

                <div class="h-full w-16 flex flex-col items-center justify-center text-center">
                    <p class="w-16 text-sm truncate">{{weathers.days[1].conditions.split(',')[0]}}</p>
                    <img src="../../../../assets/weatherIcons/{{weathers.days[1].icon}}.png" alt="" height="20" width="20"
                    [ngStyle]="{'filter': weathers.currentConditions.icon.includes('night') ? 'brightness(10000%)' : ''}">
                </div>

                <div class="h-full w-16 flex flex-col items-center justify-center text-center">
                    <p class="w-16 text-sm truncate">{{weathers.days[2].conditions.split(',')[0]}}</p>
                    <img src="../../../../assets/weatherIcons/{{weathers.days[2].icon}}.png" alt="" height="20" width="20"
                    [ngStyle]="{'filter': weathers.currentConditions.icon.includes('night') ? 'brightness(10000%)' : ''}">
                </div>

                <div class="h-full w-16 flex flex-col items-center justify-center text-center">
                    <p class="w-16 text-sm truncate">{{weathers.days[3].conditions.split(',')[0]}}</p>
                    <img src="../../../../assets/weatherIcons/{{weathers.days[3].icon}}.png" alt="" height="20" width="20"
                    [ngStyle]="{'filter': weathers.currentConditions.icon.includes('night') ? 'brightness(10000%)' : ''}">
                </div>

            </div>

        </a>

    </div> 
</div>

